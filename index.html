<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞–º–∏ Wildberries</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <i class="fas fa-boxes"></i>
                <span>WB –ó–∞–ø–∞—Å—ã</span>
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" onclick="showPage('upload', event)"><i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∫–∞</a></li>
                <li><a href="#" onclick="showPage('warehouses', event)"><i class="fas fa-warehouse"></i> –°–∫–ª–∞–¥—ã</a></li>
                <li><a href="#" onclick="showPage('products', event)"><i class="fas fa-table"></i> –í—Å–µ —Ç–æ–≤–∞—Ä—ã</a></li>
                <li><a href="#" onclick="showPage('shipments', event)"><i class="fas fa-clock"></i> –û—Ç–≥—Ä—É–∑–∫–∏</a></li>
                <li><a href="#" onclick="showPage('summary', event)"><i class="fas fa-chart-pie"></i> –û–±—â–∞—è —Å–≤–æ–¥–∫–∞</a></li>
            </ul>
            <button class="nav-toggle" onclick="toggleMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö -->
    <div id="uploadPage" class="page active">
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-upload"></i> –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Wildberries</h1>
                <p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã Excel –∏–ª–∏ CSV —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö</p>
            </div>
            
            <div class="upload-section">
                <div class="upload-card">
                    <div class="upload-icon">
                        <i class="fas fa-file-excel"></i>
                    </div>
                    <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–æ–≤–∞—Ä—ã</h3>
                    <p>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: Excel (.xlsx, .xls) –∏ CSV (.csv)</p>
                    <input type="file" id="fileInput" accept=".xlsx,.xls,.csv" style="display:none">
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-folder-open"></i> –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª —Å —Ç–æ–≤–∞—Ä–∞–º–∏
                    </button>
                    <div id="uploadStatus" class="upload-status"></div>
                </div>

                <div class="upload-card">
                    <div class="upload-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <h3>–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–∫–∏</h3>
                    <p>–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª —Å–æ —Å—Ç–æ–ª–±—Ü–∞–º–∏: –°–∫–ª–∞–¥, –î–Ω–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏</p>
                    <input type="file" id="deliveryFileInput" accept=".xlsx,.xls,.csv" style="display:none">
                    <button class="btn btn-secondary" onclick="document.getElementById('deliveryFileInput').click()">
                        <i class="fas fa-truck"></i> –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª —Å–æ —Å—Ä–æ–∫–∞–º–∏
                    </button>
                    <div id="deliveryUploadStatus" class="upload-status"></div>
                    <p class="mt-20"><small>üí° –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –æ–±–Ω–æ–≤—è—Ç—Å—è –¥–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Å–∫–ª–∞–¥–æ–≤</small></p>
                </div>

                <div class="info-card">
                    <h3><i class="fas fa-info-circle"></i> –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ —Ç–æ–≤–∞—Ä–æ–≤</h3>
                    <p>–§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç–æ–ª–±—Ü—ã:</p>
                    <ul>
                        <li><strong>–°–∫–ª–∞–¥</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞</li>
                        <li><strong>–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞</strong> - –∞—Ä—Ç–∏–∫—É–ª —Ç–æ–≤–∞—Ä–∞</li>
                        <li><strong>–†–∞–∑–º–µ—Ä</strong> - —Ä–∞–∑–º–µ—Ä —Ç–æ–≤–∞—Ä–∞</li>
                        <li><strong>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</strong> - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞</li>
                        <li><strong>–ë—Ä–µ–Ω–¥</strong> - –±—Ä–µ–Ω–¥ —Ç–æ–≤–∞—Ä–∞</li>
                        <li><strong>–ü—Ä–æ–¥–∞–Ω–æ / –í—ã–∫—É–ø–∏–ª–∏, —à—Ç.</strong> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö –µ–¥–∏–Ω–∏—Ü –∑–∞ 30 –¥–Ω–µ–π</li>
                        <li><strong>–û—Å—Ç–∞—Ç–æ–∫ / –¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫, —à—Ç.</strong> - —Ç–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫ –Ω–∞ —Å–∫–ª–∞–¥–µ</li>
                    </ul>
                </div>
            </div>

            <div class="stats-section" id="statsSection" style="display:none">
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-box"></i></div>
                    <div class="stat-info">
                        <h3 id="totalProducts">0</h3>
                        <p>–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-warehouse"></i></div>
                    <div class="stat-info">
                        <h3 id="totalWarehouses">0</h3>
                        <p>–°–∫–ª–∞–¥–æ–≤</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon"><i class="fas fa-exclamation-triangle"></i></div>
                    <div class="stat-info">
                        <h3 id="urgentProducts">0</h3>
                        <p>–°—Ä–æ—á–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞: –°–∫–ª–∞–¥—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞ -->
    <div id="warehousesPage" class="page">
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-warehouse"></i> –°–∫–ª–∞–¥—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞</h1>
                <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–ª–∞–¥–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ—Å—Ç–∞–≤–∫–∏</p>
            </div>

            <div class="warehouse-section">
                <div class="table-container">
                    <table class="data-table" id="warehousesTable">
                        <thead>
                            <tr>
                                <th>–°–∫–ª–∞–¥</th>
                                <th>–î–Ω–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏</th>
                                <th>–ò—Å—Ç–æ—á–Ω–∏–∫</th>
                                <th>–û–∂–∏–¥–∞–µ–º–∞—è –æ—Ç–≥—Ä—É–∑–∫–∞ (+12 –¥–Ω–µ–π)</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="warehousesTableBody">
                            <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞: –û—Å–Ω–æ–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
    <div id="productsPage" class="page">
        <div class="container-fluid">
            <div class="page-header">
                <h1 id="productsPageTitle"><i class="fas fa-table"></i> –í—Å–µ —Ç–æ–≤–∞—Ä—ã</h1>
                <button id="backButton" class="btn btn-secondary" onclick="clearWarehouseFilter()" style="display:none">
                    <i class="fas fa-arrow-left"></i> –ù–∞–∑–∞–¥ –∫–æ –≤—Å–µ–º —Å–∫–ª–∞–¥–∞–º
                </button>
            </div>

            <div class="filters-section">
                <div class="filter-group">
                    <label><i class="fas fa-filter"></i> –§–∏–ª—å—Ç—Ä –ø–æ —Å–∫–ª–∞–¥—É:</label>
                    <select id="warehouseFilter" onchange="filterProducts()">
                        <option value="">–í—Å–µ —Å–∫–ª–∞–¥—ã</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-tag"></i> –§–∏–ª—å—Ç—Ä –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É:</label>
                    <select id="articleFilter" onchange="filterProducts()">
                        <option value="">–í—Å–µ –∞—Ä—Ç–∏–∫—É–ª—ã</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-search"></i> –ü–æ–∏—Å–∫ –ø–æ —Ç–æ–≤–∞—Ä–∞–º:</label>
                    <input type="text" id="searchInput" placeholder="–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –±—Ä–µ–Ω–¥..." oninput="filterProducts()">
                </div>
            </div>

            <div class="table-container">
                <table class="data-table products-table" id="productsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable('warehouse')">–°–∫–ª–∞–¥ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('seller_article')">–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('size')">–†–∞–∑–º–µ—Ä <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('name')">–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('brand')">–ë—Ä–µ–Ω–¥ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('sold')">–ü—Ä–æ–¥–∞–Ω–æ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('stock')">–û—Å—Ç–∞—Ç–æ–∫ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('sales_per_day')">–ü—Ä–æ–¥–∞–∂–∏/–¥–µ–Ω—å <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('needed_45')">–ù—É–∂–Ω–æ –Ω–∞ 45 –¥–Ω–µ–π <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('to_supply')">–ö –ø–æ—Å—Ç–∞–≤–∫–µ <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('days_to_zero')">–î–Ω–µ–π –¥–æ 0 <i class="fas fa-sort"></i></th>
                            <th onclick="sortTable('risk_date')">–î–∞—Ç–∞ —Ä–∏—Å–∫–∞ <i class="fas fa-sort"></i></th>
                            <th>–î–æ—Å—Ç–∞–≤–∫–∞ –¥–Ω–µ–π</th>
                            <th>–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏</th>
                            <th>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th>
                        </tr>
                    </thead>
                    <tbody id="productsTableBody">
                        <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞: –ë–ª–∏–∂–∞–π—à–∏–µ –æ—Ç–≥—Ä—É–∑–∫–∏ -->
    <div id="shipmentsPage" class="page">
        <div class="container">
            <div class="page-header">
                <h1><i class="fas fa-clock"></i> –ë–ª–∏–∂–∞–π—à–∏–µ –æ—Ç–≥—Ä—É–∑–∫–∏</h1>
                <p>–°–∫–ª–∞–¥—ã —Å –±–ª–∏–∂–∞–π—à–∏–º–∏ –¥–∞—Ç–∞–º–∏ –æ—Ç–≥—Ä—É–∑–∫–∏ (+12 –¥–Ω–µ–π –æ—Ç —Å–±–æ—Ä–∫–∏)</p>
            </div>

            <div class="shipments-grid" id="shipmentsGrid">
                <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞: –û–±—â–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º -->
    <div id="summaryPage" class="page">
        <div class="container-fluid">
            <div class="page-header">
                <h1><i class="fas fa-chart-pie"></i> –û–±—â–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ —Ç–æ–≤–∞—Ä–∞–º</h1>
                <p>–°–≤–æ–¥–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∞—Ä—Ç–∏–∫—É–ª–∞–º –∏ —Ä–∞–∑–º–µ—Ä–∞–º</p>
            </div>

            <div class="filters-section">
                <div class="filter-group">
                    <label><i class="fas fa-search"></i> –ü–æ–∏—Å–∫:</label>
                    <input type="text" id="summarySearchInput" placeholder="–ê—Ä—Ç–∏–∫—É–ª, –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –±—Ä–µ–Ω–¥..." oninput="filterSummary()">
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-ruler"></i> –§–∏–ª—å—Ç—Ä –ø–æ —Ä–∞–∑–º–µ—Ä—É:</label>
                    <select id="sizeFilter" onchange="filterSummary()">
                        <option value="">–í—Å–µ —Ä–∞–∑–º–µ—Ä—ã</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label><i class="fas fa-sort-amount-down"></i> –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                    <select id="summarySort" onchange="filterSummary()">
                        <option value="stock_asc">–ü–æ –æ—Å—Ç–∞—Ç–∫—É (—Å–Ω–∞—á–∞–ª–∞ –º–∞–ª–æ)</option>
                        <option value="stock_desc">–ü–æ –æ—Å—Ç–∞—Ç–∫—É (—Å–Ω–∞—á–∞–ª–∞ –º–Ω–æ–≥–æ)</option>
                        <option value="name">–ü–æ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—é</option>
                        <option value="urgent">–ü–æ —Å—Ä–æ—á–Ω–æ—Å—Ç–∏</option>
                    </select>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table summary-table" id="summaryTable">
                    <thead>
                        <tr>
                            <th>–ê—Ä—Ç–∏–∫—É–ª –ø—Ä–æ–¥–∞–≤—Ü–∞</th>
                            <th>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ</th>
                            <th>–†–∞–∑–º–µ—Ä</th>
                            <th>–ë—Ä–µ–Ω–¥</th>
                            <th>–í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–Ω–æ/–º–µ—Å</th>
                            <th>–í—Å–µ–≥–æ –æ—Å—Ç–∞—Ç–æ–∫</th>
                            <th>–ü—Ä–æ–¥–∞–∂–∏/–¥–µ–Ω—å</th>
                            <th>–ù—É–∂–Ω–æ –Ω–∞ —Å–∫–ª–∞–¥–µ (45–¥)</th>
                            <th>–°–∞–º—ã–π —Ä–∞–Ω–Ω–∏–π –∑–∞–ø—É—Å–∫</th>
                            <th>–°—Ç–∞—Ç—É—Å</th>
                        </tr>
                    </thead>
                    <tbody id="summaryTableBody">
                        <!-- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–Ω–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏ -->
    <div id="editModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditModal()">&times;</span>
            <h2><i class="fas fa-edit"></i> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫–ª–∞–¥</h2>
            <form id="editWarehouseForm" onsubmit="saveWarehouse(event)">
                <input type="hidden" id="editWarehouseId">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞:</label>
                    <input type="text" id="editWarehouseName" readonly>
                </div>
                <div class="form-group">
                    <label>–î–Ω–µ–π –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
                    <input type="number" id="editDeliveryDays" min="0" required>
                </div>
                <div class="form-group" id="factorySourceInfo" style="display:none">
                    <label>–ó–∞–≤–æ–¥—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:</label>
                    <span id="factoryValue"></span>
                    <button type="button" class="btn btn-sm btn-secondary" onclick="resetToFactory()">‚Ü∫ –°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="closeEditModal()">
                        <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>